/* Copyright(C) 2023 Harry Clark * /

/* SEGA Mega Drive Emulator */

/* THIS FILE PERTAINS TO THE MAIN FUNCTIONALITY OF THE VIDEO DISPLAY PORT OF THE MEGA DRIVE */
/* TAKING INTO ACCOUNT THE INTRICACIES OF THE SYSTEM THROUGH VARIOUS PIECES OF DOCUMENTATION */

/* DOCUMENTATION INCLUDES: */

/* https://wiki.megadrive.org/index.php?title=VDP */
/* http://md.railgun.works/index.php?title=VDP */
 
/* NESTED INCLUDES */

#include "68000.h"
#include "vdp.h"
#include "common.h"

/* CREATE AN INSTANCE OF THE VDP BY ALLOCING THE SCREEN BUFFER */
/* THIS WILL CREATE VIRTUAL MEMORY ASSOCIATED WITH THE BYTEWISE SIZE */
/* OF THE UNIT */

#ifdef USE_VDP

/* PARSE THE CONTENTS BASED ON THE LENGTH OF THE WORD-WISE */
/* OPERATION, EVALUATE THE SIZE THEN AFTER */

static U16 VRAM_READ_WORD(VDP* VDP, U16 ADDRESS[])
{
	return 0, sizeof(VDP_VRAM ^ ADDRESS[0] << 8 | VDP_VRAM ^ ADDRESS[1]);
}

/* INITIALISE THE CORRESPONDING SIZE OF THE SPRITE TABLE */
/* THIS IS DONE AT RUNTIME TO EVALUATE HOW THE VDP WILL RENDER ON STARTUP */

INLINE 
void VDP_CONST_INIT(VDP* VDP, U16 PIXEL_LOOKUP[], U8 OUTPUT)
{
	for (int PIXEL_HIGH = 0; PIXEL_HIGH < sizeof(VDP_SPRITE_LOOKUP); PIXEL_HIGH++)
	{
		for (int PIXEL_LOW = 0; PIXEL_LOW < sizeof(VDP_SPRITE_LOOKUP); PIXEL_LOW++)
		{
			malloc(sizeof(VDP_SPRITE_LOOKUP | PIXEL_LOOKUP[PIXEL_HIGH], PIXEL_LOOKUP[PIXEL_LOW] += OUTPUT));
		}
	}
}

#endif
